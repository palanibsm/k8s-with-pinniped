---
# Ansible Inventory for Bare Metal Kubernetes Cluster
# Update the IP addresses and hostnames according to your infrastructure

all:
  vars:
    ansible_user: root  # Change to your SSH user
    ansible_ssh_private_key_file: ~/.ssh/id_rsa  # Path to your SSH key
    ansible_python_interpreter: /usr/bin/python3

  children:
    # Control plane nodes (also run workloads)
    control_plane:
      hosts:
        master01:
          ansible_host: 192.168.1.101  # UPDATE THIS
          node_ip: 192.168.1.101
          node_name: master01
        master02:
          ansible_host: 192.168.1.102  # UPDATE THIS
          node_ip: 192.168.1.102
          node_name: master02
        master03:
          ansible_host: 192.168.1.103  # UPDATE THIS
          node_ip: 192.168.1.103
          node_name: master03

    # Dedicated worker nodes (workloads only)
    workers:
      hosts:
        worker01:
          ansible_host: 192.168.1.104  # UPDATE THIS
          node_ip: 192.168.1.104
          node_name: worker01

    # HAProxy + Keepalived nodes (typically on control plane nodes)
    loadbalancer:
      hosts:
        master01:
          ansible_host: 192.168.1.101
          haproxy_priority: 100  # Highest priority (master)
        master02:
          ansible_host: 192.168.1.102
          haproxy_priority: 99
        master03:
          ansible_host: 192.168.1.103
          haproxy_priority: 98

    # All Kubernetes nodes
    k8s_cluster:
      children:
        control_plane:
        workers:
